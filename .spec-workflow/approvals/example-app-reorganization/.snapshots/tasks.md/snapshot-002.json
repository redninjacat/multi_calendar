{
  "id": "snapshot_1771210852493_bowv95rf3",
  "approvalId": "approval_1771210588991_mxfjy4shy",
  "approvalTitle": "Tasks: Example App Reorganization",
  "version": 2,
  "timestamp": "2026-02-16T03:00:52.493Z",
  "trigger": "approved",
  "status": "pending",
  "content": "# Tasks Document\n\n- [ ] 1. Backup existing code and create app shell\n  - Backup: Copy `example/lib/` to `example/lib_backup/`\n  - Create: `example/lib/main.dart` (MaterialApp with locale/theme state)\n  - Create: `example/lib/screens/main_screen.dart` (NavigationRail with Month View, Day View, Comparison)\n  - Purpose: Establish the new app entry point and top-level navigation, independent of backed-up code\n  - _Leverage: `example/lib_backup/main.dart`, `example/lib_backup/screens/main_screen.dart` for reference_\n  - _Requirements: REQ-1, REQ-9_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in app architecture and navigation | Task: Backup `example/lib/` to `example/lib_backup/`, then create new `main.dart` and `main_screen.dart`. The main.dart should set up MaterialApp with locale state (en/es/fr/ar/he), theme mode (light/dark), Material 3, and localization delegates. The main_screen.dart should provide a NavigationRail with 3 items: Month View, Day View, Comparison. Use AppLocalizations.of(context) for all labels. Reference the backup files for patterns but do NOT import from them. | Restrictions: Do not modify any files in lib_backup/. Do not import from lib_backup/. All text must come from AppLocalizations. Keep main.dart under 80 lines and main_screen.dart under 200 lines. | _Leverage: `example/lib_backup/main.dart`, `example/lib_backup/screens/main_screen.dart` | _Requirements: REQ-1, REQ-9 | Success: App builds and runs showing NavigationRail with 3 tabs. Locale switcher and theme toggle work. No imports from lib_backup/. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 2. Create shared control panel infrastructure\n  - Create: `example/lib/shared/widgets/responsive_control_panel.dart`\n  - Create: `example/lib/shared/widgets/control_panel_section.dart`\n  - Create: `example/lib/shared/widgets/control_widgets.dart`\n  - Purpose: Build the reusable responsive control panel shell and setting widgets used by all tabs\n  - _Leverage: Design document Component 1-3 specifications_\n  - _Requirements: REQ-7, REQ-11_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in responsive layouts and reusable components | Task: Create three files. (1) `responsive_control_panel.dart`: A widget that takes `child` (calendar) and `controlPanel` (settings content). On screens >= 900dp wide, renders as Row with child (Expanded) + controlPanel (fixed 300dp sidebar with border). On screens < 900dp, renders as Column with an ExpansionTile control panel at top (collapsed by default) + child (Expanded). (2) `control_panel_section.dart`: A collapsible section with styled header text, using ExpansionTile, consistent padding/styling. (3) `control_widgets.dart`: Static helper class `ControlWidgets` with methods: `toggle(label, value, onChanged)`, `slider(label, value, min, max, divisions, onChanged, valueLabel)`, `dropdown<T>(label, value, items, onChanged)`, `colorPicker(label, value, onChanged)`, `presetChips<T>(label, selected, presets, labelBuilder, onChanged)`, `triStateToggle(label, value, onChanged)` for bool? fields. All labels are Strings (callers pass localized strings). | Restrictions: Each file under 300 lines. No hardcoded English strings — all text comes from caller. Consistent Material 3 styling. | _Leverage: Design document Components 1-3 | _Requirements: REQ-7, REQ-11 | Success: All three files compile. ResponsiveControlPanel correctly switches layout at 900dp breakpoint. Control widgets render correctly with proper Material 3 styling. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 3. Create shared helpers and utilities\n  - Create: `example/lib/shared/widgets/snackbar_helper.dart`\n  - Create: `example/lib/shared/widgets/style_description.dart`\n  - Create: `example/lib/shared/utils/event_colors.dart`\n  - Create: `example/lib/shared/utils/date_formatters.dart`\n  - Create: `example/lib/shared/utils/sample_events.dart`\n  - Create: `example/lib/shared/utils/stress_test_events.dart`\n  - Create: `example/lib/shared/utils/theme_presets.dart`\n  - Purpose: Migrate and enhance shared utilities — add Month View stress test generator, theme presets enum, and consistent SnackBar helper\n  - _Leverage: `example/lib_backup/utils/sample_events.dart`, `example/lib_backup/utils/event_colors.dart`, `example/lib_backup/utils/date_formatters.dart`, `example/lib_backup/widgets/style_description.dart`_\n  - _Requirements: REQ-5.2, REQ-11_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in utility design | Task: Create 7 utility files. (1) `snackbar_helper.dart`: Static `SnackBarHelper.show(context, message)` that clears previous SnackBar and shows new one with consistent styling and 2-second duration. (2) `style_description.dart`: Migrate from backup, accept localized description string. (3) `event_colors.dart`: Migrate from backup as-is. (4) `date_formatters.dart`: Migrate from backup, use intl package for locale-aware month/year formatting (remove hardcoded month name maps). (5) `sample_events.dart`: Migrate `createSampleEvents()` and `createDayViewSampleEvents()` from backup. (6) `stress_test_events.dart`: Migrate `createDayViewStressTestEvents()` from backup AND create new `createMonthViewStressTestEvents(DateTime month, {int count})` that distributes events across the month with clusters of 10-20 events on 3-5 random days, mix of single-day and multi-day, seeded RNG. (7) `theme_presets.dart`: Define `ThemePreset` enum (defaultPreset, compact, spacious, highContrast, minimal) and functions `getMonthThemePreset(ThemePreset, ThemeData)` and `getDayThemePreset(ThemePreset, ThemeData)` returning `MCalThemeData`. | Restrictions: No hardcoded English strings. Each file under 400 lines. Do not import from lib_backup/. | _Leverage: `example/lib_backup/utils/*`, `example/lib_backup/widgets/style_description.dart` | _Requirements: REQ-5.2, REQ-11 | Success: All files compile. `createMonthViewStressTestEvents()` generates correct distribution. Theme presets produce valid `MCalThemeData` instances. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 4. Localize shared dialogs\n  - Create: `example/lib/shared/widgets/event_detail_dialog.dart`\n  - Create: `example/lib/shared/widgets/event_form_dialog.dart`\n  - Create: `example/lib/shared/widgets/day_events_bottom_sheet.dart`\n  - Create: `example/lib/shared/widgets/recurrence_editor_dialog.dart`\n  - Create: `example/lib/shared/widgets/recurrence_edit_scope_dialog.dart`\n  - Purpose: Migrate all shared dialog/bottom-sheet widgets, replacing ALL hardcoded English strings with AppLocalizations lookups\n  - _Leverage: `example/lib_backup/widgets/event_detail_dialog.dart`, `example/lib_backup/widgets/day_view_event_form_dialog.dart`, `example/lib_backup/widgets/day_events_bottom_sheet.dart`, `example/lib_backup/widgets/recurrence_editor_dialog.dart`, `example/lib_backup/widgets/recurrence_edit_scope_dialog.dart`_\n  - _Requirements: REQ-8_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in i18n and dialog design | Task: Migrate 5 dialog/bottom-sheet widgets from lib_backup to new shared/widgets/ paths. For EVERY hardcoded English string, replace with `AppLocalizations.of(context)` lookup. This includes: dialog titles, button labels (Save, Cancel, Delete, Edit, Close), field labels (Title, Start, End, Color, All Day), section headers, placeholder text, validation messages, recurrence editor labels (Frequency, Interval, Days of Week, End Condition, etc.), recurrence scope labels (This Event, This and Following, All Events), bottom sheet headers, empty state text. Rename `day_view_event_form_dialog.dart` to `event_form_dialog.dart` since it will be shared. Also migrate `DayViewCrudHelper` mixin into `event_form_dialog.dart` or a separate helper. Track all new localization keys needed — you will need to add them to ARB files in task 18. | Restrictions: Do not import from lib_backup/. Every user-visible string must use AppLocalizations. Keep each file under 500 lines. Maintain the same public APIs (function signatures). | _Leverage: `example/lib_backup/widgets/*` | _Requirements: REQ-8 | Success: All 5 files compile. No hardcoded English strings in any dialog. All use AppLocalizations.of(context). Public APIs unchanged. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 5. Create Month View showcase and Features tab\n  - Create: `example/lib/views/month_view/month_view_showcase.dart`\n  - Create: `example/lib/views/month_view/tabs/month_features_tab.dart`\n  - Purpose: Build the Month View 5-tab controller and the Features tab with widget-only settings control panel and full gesture handler coverage\n  - _Leverage: `example/lib_backup/views/month_view/month_view_showcase.dart`, `example/lib_backup/views/month_view/styles/features_demo_style.dart`, Design document Component 6 Month View Features Settings table_\n  - _Requirements: REQ-1, REQ-2.1, REQ-2.3, REQ-7_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in calendar widgets and interactive demos | Task: Create 2 files. (1) `month_view_showcase.dart`: TabController with 5 tabs (Features, Theme, Styles, Stress Test, Accessibility). Tab labels from AppLocalizations. Each tab lazily loads its content widget. (2) `month_features_tab.dart`: A StatefulWidget with ResponsiveControlPanel. The control panel exposes ONLY widget-level params organized in ControlPanelSections: Navigation (showNavigator, enableSwipeNavigation, swipeNavigationDirection, firstDayOfWeek), Display (showWeekNumbers, maxVisibleEventsPerDay), Drag & Drop (enableDragToMove, showDropTargetTiles, showDropTargetOverlay, dropTargetTilesAboveOverlay, dragEdgeNavigationEnabled, dragEdgeNavigationDelay, dragLongPressDelay), Resize (enableDragToResize as tristate), Animation (enableAnimations as tristate, animationDuration, animationCurve), Keyboard (enableKeyboardNavigation, autoFocusOnCellTap), Blackout Days (toggle + day-of-week multi-select checkboxes). NO theme settings. Wire ALL gesture handlers with SnackBar messages: onCellTap, onCellLongPress, onCellDoubleTap, onDateLabelTap, onDateLabelLongPress, onEventTap (opens detail dialog), onEventLongPress, onEventDoubleTap, onOverflowTap (opens bottom sheet), onOverflowLongPress, onHoverCell, onHoverEvent, onDragWillAccept (validates blackout days), onEventDropped, onResizeWillAccept, onEventResized, onFocusedDateChanged, onSwipeNavigation. Remove keyboard navigation instructions (those move to Accessibility tab). | Restrictions: No theme settings in control panel. No hardcoded English. Under 500 lines per file. Use shared SnackBarHelper, ControlWidgets, sample events. | _Leverage: `example/lib_backup/views/month_view/styles/features_demo_style.dart` for patterns | _Requirements: REQ-1, REQ-2.1, REQ-2.3, REQ-7 | Success: Month View showcase shows 5 tabs. Features tab has responsive control panel with widget-only settings. All gesture handlers fire SnackBars. Event tap opens detail dialog. Overflow tap opens bottom sheet. No keyboard nav instructions in this tab. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 6. Create Month View Theme tab\n  - Create: `example/lib/views/month_view/tabs/month_theme_tab.dart`\n  - Purpose: Build the Month View Theme customization tab with curated theme properties, presets, and live preview\n  - _Leverage: `example/lib_backup/views/day_view/day_view_theme_settings.dart` for pattern, Design document Component 7 Month View Theme Settings table_\n  - _Requirements: REQ-3.1, REQ-7_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in theming and live customization | Task: Create `month_theme_tab.dart` with ResponsiveControlPanel. At the top of the control panel, show preset chips (Default, Compact, Spacious, High Contrast, Minimal) using `ControlWidgets.presetChips`. Below, organize curated MCalThemeData + MCalMonthThemeData properties into ControlPanelSections: Cells (cellBackgroundColor, cellBorderColor, todayBackgroundColor), Event Tiles (eventTileBackgroundColor, eventTileHeight slider, eventTileCornerRadius slider, eventTileHorizontalSpacing slider, eventTileVerticalSpacing slider, eventTileBorderWidth slider, ignoreEventColors toggle), Headers (weekdayHeaderBackgroundColor), Date Labels (dateLabelHeight slider, dateLabelPosition dropdown), Overflow (overflowIndicatorHeight slider), Navigator (navigatorBackgroundColor), Drag & Drop (dropTargetCellValidColor, dropTargetCellInvalidColor, dragSourceOpacity slider, draggedTileElevation slider), Hover (hoverCellBackgroundColor, hoverEventBackgroundColor), Week Numbers (weekNumberBackgroundColor). Selecting a preset loads values from `getMonthThemePreset()`. Wrap MCalMonthView in MCalTheme with the live-built MCalThemeData. Show basic events for preview. | Restrictions: Only theme properties — no widget settings. No hardcoded English. Under 500 lines. | _Leverage: `example/lib_backup/views/day_view/day_view_theme_settings.dart`, `shared/utils/theme_presets.dart` | _Requirements: REQ-3.1, REQ-7 | Success: Theme tab shows preset chips and organized sections. Selecting a preset updates all controls. Changing any control immediately updates the calendar preview. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 7. Create Month View Styles tab and migrate style widgets\n  - Create: `example/lib/views/month_view/tabs/month_styles_tab.dart`\n  - Create: `example/lib/views/month_view/styles/month_default_style.dart`\n  - Create: `example/lib/views/month_view/styles/month_modern_style.dart`\n  - Create: `example/lib/views/month_view/styles/month_classic_style.dart`\n  - Create: `example/lib/views/month_view/styles/month_minimal_style.dart`\n  - Create: `example/lib/views/month_view/styles/month_colorful_style.dart`\n  - Purpose: Build the Styles tab with dropdown selector and migrate existing style widgets\n  - _Leverage: `example/lib_backup/views/month_view/styles/default_style.dart` and siblings_\n  - _Requirements: REQ-4_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in calendar customization | Task: Create `month_styles_tab.dart` with a Dropdown at top (Default, Modern, Classic, Minimal, Colorful), a localized StyleDescription below it, and the selected style widget below that. Default style uses NO custom theming, builders, or handlers — pure library defaults with just onEventTap for detail dialog and onOverflowTap for bottom sheet. Migrate the other 4 style widgets from lib_backup, preserving their custom themes/builders but updating imports to new shared paths. Localize style descriptions. | Restrictions: No hardcoded English. Default style must be truly bare-bones. Each style file under 500 lines. Do not import from lib_backup/. | _Leverage: `example/lib_backup/views/month_view/styles/*` | _Requirements: REQ-4 | Success: Styles tab shows dropdown with 5 options. Switching styles immediately renders the selected one. Default has zero customization. Other styles match their previous appearance. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 8. Create Month View Stress Test and Accessibility tabs\n  - Create: `example/lib/views/month_view/tabs/month_stress_test_tab.dart`\n  - Create: `example/lib/views/month_view/tabs/month_accessibility_tab.dart`\n  - Purpose: Build the new Month View Stress Test tab (previously only existed for Day View) and the new Accessibility tab with Month View keyboard shortcuts and screen reader guide\n  - _Leverage: `example/lib_backup/views/day_view/styles/stress_test_style.dart`, `example/lib_backup/views/day_view/accessibility_demo.dart`_\n  - _Requirements: REQ-5.2, REQ-6.2_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in performance testing and accessibility | Task: Create 2 files. (1) `month_stress_test_tab.dart`: ResponsiveControlPanel with controls — stress mode toggle, event count segmented button (100/200/300/500), performance overlay checkbox. Uses `createMonthViewStressTestEvents()`. Shows metrics: event count, avg frame time (ms), FPS estimate. When stress mode is off, shows normal sample events. When on, generates stress events and measures rebuild performance using Stopwatch. (2) `month_accessibility_tab.dart`: Split layout — calendar on one side, documentation panel on the other. Documentation sections (all localized): Keyboard Shortcuts table (arrows=navigate cells, Enter/Space=select/event mode, Home/End=first/last day, PageUp/Down=prev/next month, Tab/Shift+Tab=cycle events, Enter=confirm move, Escape=cancel, R=resize mode, S/E=switch edge, M=return to move), Screen Reader Guide (semantic labels for cells, events, multi-day spans, navigator, overflow), High Contrast toggle (applies high-contrast MCalThemeData), Accessibility Checklist (semantic labels, keyboard nav, focus indicators, screen reader announcements, high contrast support, reduced motion respect), Keyboard Navigation Flow (4-step guide). Calendar has enableKeyboardNavigation=true, enableDragToMove=true, enableDragToResize=true. | Restrictions: No hardcoded English. Under 500 lines each. Performance metrics should be meaningful approximations. | _Leverage: `example/lib_backup/views/day_view/styles/stress_test_style.dart`, `example/lib_backup/views/day_view/accessibility_demo.dart` | _Requirements: REQ-5.2, REQ-6.2 | Success: Stress Test tab generates events, shows metrics, toggles performance overlay. Accessibility tab shows all documentation sections, high contrast toggle works, calendar is fully keyboard-navigable. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 9. Create Day View showcase and Features tab\n  - Create: `example/lib/views/day_view/day_view_showcase.dart`\n  - Create: `example/lib/views/day_view/tabs/day_features_tab.dart`\n  - Purpose: Build the Day View 5-tab controller and the Features tab with widget-only settings control panel and full gesture handler coverage\n  - _Leverage: `example/lib_backup/views/day_view/day_view_showcase.dart`, `example/lib_backup/views/day_view/styles/features_demo_style.dart`, Design document Component 6 Day View Features Settings table_\n  - _Requirements: REQ-1, REQ-2.2, REQ-2.3, REQ-7_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in calendar day view and interactive demos | Task: Create 2 files. (1) `day_view_showcase.dart`: TabController with 5 tabs (Features, Theme, Styles, Stress Test, Accessibility). Tab labels from AppLocalizations. (2) `day_features_tab.dart`: StatefulWidget with ResponsiveControlPanel. Control panel exposes ONLY widget params in ControlPanelSections: Time Range (startHour, endHour, timeSlotDuration dropdown, gridlineInterval dropdown, hourHeight slider), Navigation (showNavigator, autoScrollToCurrentTime), Display (showCurrentTimeIndicator, showWeekNumber, allDaySectionMaxRows, allDayToTimedDuration), Drag & Drop (enableDragToMove, showDropTargetPreview, showDropTargetOverlay, dropTargetTilesAboveOverlay, dragEdgeNavigationEnabled, dragEdgeNavigationDelay, dragLongPressDelay), Resize (enableDragToResize as tristate), Snapping (snapToTimeSlots, snapToOtherEvents, snapToCurrentTime, snapRange), Animation (enableAnimations as tristate, animationDuration), Keyboard (enableKeyboardNavigation, autoFocusOnEventTap), Time Regions (enableSpecialTimeRegions toggle, enableBlackoutTimes toggle). NO theme settings. Wire ALL handlers with SnackBars: onDayHeaderTap, onDayHeaderLongPress, onTimeLabelTap, onTimeSlotTap, onTimeSlotLongPress, onEmptySpaceDoubleTap, onEventTap (opens detail dialog with edit/delete), onEventLongPress, onHoverEvent, onHoverTimeSlot, onOverflowTap, onDragWillAccept, onEventDropped, onResizeWillAccept, onEventResized. Support keyboard CRUD via onCreateEventRequested, onEditEventRequested, onDeleteEventRequested. Remove keyboard nav instructions. | Restrictions: No theme settings. No hardcoded English. Under 500 lines per file. | _Leverage: `example/lib_backup/views/day_view/styles/features_demo_style.dart` | _Requirements: REQ-1, REQ-2.2, REQ-2.3, REQ-7 | Success: Day View showcase shows 5 tabs. Features tab has responsive control panel with widget-only settings. All gesture handlers fire SnackBars. CRUD operations work. No keyboard nav instructions in this tab. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 10. Create Day View Theme tab\n  - Create: `example/lib/views/day_view/tabs/day_theme_tab.dart`\n  - Purpose: Build the Day View Theme customization tab with curated theme properties, presets, and live preview\n  - _Leverage: `example/lib_backup/views/day_view/day_view_theme_settings.dart`, `example/lib_backup/views/day_view/theme_customization_showcase.dart`, Design document Component 7 Day View Theme Settings table_\n  - _Requirements: REQ-3.2, REQ-7_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in theming and live customization | Task: Create `day_theme_tab.dart` with ResponsiveControlPanel. Preset chips at top (Default, Compact, Spacious, High Contrast, Minimal). Below, organize curated MCalThemeData + MCalDayThemeData properties into ControlPanelSections: Time Legend (timeLegendWidth slider, showTimeLegendTicks toggle, timeLegendTickColor, timeLegendTickWidth slider, timeLegendTickLength slider), Gridlines (hourGridlineColor, hourGridlineWidth slider, majorGridlineColor, majorGridlineWidth slider, minorGridlineColor, minorGridlineWidth slider), Current Time (currentTimeIndicatorColor, currentTimeIndicatorWidth slider, currentTimeIndicatorDotRadius slider), Events (eventTileBackgroundColor, timedEventBorderRadius slider, timedEventMinHeight slider, timedEventPadding slider, ignoreEventColors toggle), All-Day Events (allDayEventBackgroundColor, allDayEventBorderColor, allDayEventBorderWidth slider), Time Regions (specialTimeRegionColor, blockedTimeRegionColor, timeRegionBorderColor, timeRegionTextColor), Resize (resizeHandleSize slider, minResizeDurationMinutes slider). Use `getDayThemePreset()` for presets. Wrap MCalDayView in MCalTheme with live-built MCalThemeData. | Restrictions: Only theme properties. No hardcoded English. Under 500 lines. | _Leverage: `example/lib_backup/views/day_view/day_view_theme_settings.dart`, `shared/utils/theme_presets.dart` | _Requirements: REQ-3.2, REQ-7 | Success: Theme tab shows presets and organized sections. Preset selection updates all controls. Any change immediately updates the calendar. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 11. Create Day View Styles tab and migrate style widgets\n  - Create: `example/lib/views/day_view/tabs/day_styles_tab.dart`\n  - Create: `example/lib/views/day_view/styles/day_default_style.dart`\n  - Create: `example/lib/views/day_view/styles/day_modern_style.dart`\n  - Create: `example/lib/views/day_view/styles/day_classic_style.dart`\n  - Create: `example/lib/views/day_view/styles/day_minimal_style.dart`\n  - Create: `example/lib/views/day_view/styles/day_colorful_style.dart`\n  - Purpose: Build the Day View Styles tab with dropdown selector and migrate existing style widgets\n  - _Leverage: `example/lib_backup/views/day_view/styles/default_style.dart` and siblings_\n  - _Requirements: REQ-4_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in calendar customization | Task: Create `day_styles_tab.dart` with Dropdown (Default, Modern, Classic, Minimal, Colorful), localized StyleDescription, and selected style widget. Default style uses NO custom theming, builders, or handlers — pure library defaults with just onEventTap for detail dialog. Migrate the other 4 style widgets from lib_backup, preserving custom themes/builders. Update imports to new shared paths. Localize style descriptions. | Restrictions: No hardcoded English. Default style must be truly bare-bones. Each file under 500 lines. Do not import from lib_backup/. | _Leverage: `example/lib_backup/views/day_view/styles/*` | _Requirements: REQ-4 | Success: Styles tab shows dropdown with 5 options. Switching styles immediately renders the selected one. Default has zero customization. Other styles match previous appearance. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 12. Create Day View Stress Test and Accessibility tabs\n  - Create: `example/lib/views/day_view/tabs/day_stress_test_tab.dart`\n  - Create: `example/lib/views/day_view/tabs/day_accessibility_tab.dart`\n  - Purpose: Migrate and localize the Day View Stress Test and Accessibility tabs\n  - _Leverage: `example/lib_backup/views/day_view/styles/stress_test_style.dart`, `example/lib_backup/views/day_view/accessibility_demo.dart`_\n  - _Requirements: REQ-5.1, REQ-6.1_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer specializing in performance testing and accessibility | Task: Create 2 files. (1) `day_stress_test_tab.dart`: Migrate from backup stress_test_style.dart. Use ResponsiveControlPanel with controls: stress mode toggle, event count (100/200/300/500), performance overlay. Uses `createDayViewStressTestEvents()`. Shows metrics. Localize all labels. (2) `day_accessibility_tab.dart`: Migrate from backup accessibility_demo.dart. Use consistent layout matching Month View accessibility tab. Documentation sections: Keyboard Shortcuts (Day View specific: arrows=navigate days, Tab=cycle events, Enter=activate, Cmd/Ctrl+N=create, E=edit, D=delete, drag move/resize shortcuts), Screen Reader Guide, High Contrast toggle, Accessibility Checklist, Keyboard Navigation Flow. ADD the keyboard nav instructions that were previously in the Day View Features tab. Localize all text. | Restrictions: No hardcoded English. Under 500 lines each. Use ResponsiveControlPanel consistently. | _Leverage: `example/lib_backup/views/day_view/styles/stress_test_style.dart`, `example/lib_backup/views/day_view/accessibility_demo.dart` | _Requirements: REQ-5.1, REQ-6.1 | Success: Stress test matches previous functionality with localized labels. Accessibility tab shows all sections with Day View shortcuts, keyboard nav instructions included. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 13. Update Comparison view\n  - Create: `example/lib/views/comparison/comparison_view.dart`\n  - Purpose: Migrate and localize the Comparison view (minimal changes — just localization and import updates)\n  - _Leverage: `example/lib_backup/views/comparison/comparison_view.dart`_\n  - _Requirements: REQ-1 (AC 4), REQ-8_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Flutter Developer | Task: Migrate `comparison_view.dart` from backup. Update imports to point to new shared widget paths. Localize any remaining hardcoded strings with AppLocalizations. Keep functionality identical — side-by-side Month + Day views with shared controller, tapping a day in Month navigates Day View. | Restrictions: Do not change functionality. No hardcoded English. Under 300 lines. | _Leverage: `example/lib_backup/views/comparison/comparison_view.dart` | _Requirements: REQ-1 (AC 4), REQ-8 | Success: Comparison view works identically to before. All text localized. Imports point to new shared paths. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 14. Create English ARB file with all localization keys\n  - Create: `example/lib/l10n/app_en.arb`\n  - Purpose: Define the complete set of English localization keys for the entire reorganized example app\n  - _Leverage: `example/lib_backup/l10n/app_en.arb`, all new files created in tasks 1-13_\n  - _Requirements: REQ-8_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: i18n Engineer specializing in Flutter localization | Task: Create the complete English ARB file. Start with all existing keys from backup app_en.arb. Add ALL new keys needed by the reorganized app. Organize keys by prefix convention: tab* (tab labels), section* (control panel section headers), setting* (individual setting labels), style* (style names/descriptions), stress* (stress test labels), a11y/accessibility* (accessibility content), snackbar* (SnackBar messages for ALL gesture handlers — cell tap, cell long press, cell double tap, date label tap, event tap, event long press, event double tap, overflow tap, overflow long press, hover cell, hover event, drag accept, event dropped, event resized, time slot tap, etc.), dialog* (dialog labels — title, save, cancel, delete, edit, close, create event, edit event, start date, end date, start time, end time, all day, color, title field, etc.), preset* (theme preset names), comparison* (comparison view text). Include @key metadata with descriptions for all parameterized strings. Estimate ~300+ keys total. Review ALL files created in tasks 1-13 to ensure every AppLocalizations reference has a corresponding key. | Restrictions: Must be valid JSON. All keys must have unique names. Parameterized strings must have proper @key metadata with placeholders. | _Leverage: `example/lib_backup/l10n/app_en.arb`, all task 1-13 source files | _Requirements: REQ-8 | Success: ARB file is valid JSON. Running `flutter gen-l10n` in example/ succeeds. Every AppLocalizations.of(context).keyName reference in the codebase has a corresponding ARB key. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 15. Create translated ARB files (es, fr, ar, he)\n  - Create: `example/lib/l10n/app_es.arb`\n  - Create: `example/lib/l10n/app_fr.arb`\n  - Create: `example/lib/l10n/app_ar.arb`\n  - Create: `example/lib/l10n/app_he.arb`\n  - Purpose: Provide translations for all localization keys in Spanish, French, Arabic, and Hebrew\n  - _Leverage: `example/lib_backup/l10n/app_es.arb`, `example/lib_backup/l10n/app_fr.arb`, `example/lib_backup/l10n/app_ar.arb`, `example/lib_backup/l10n/app_he.arb`, newly created `app_en.arb` from task 14_\n  - _Requirements: REQ-8_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: i18n Engineer with multi-language translation expertise | Task: Create 4 translated ARB files. Start with existing translations from backup ARB files for keys that already existed. For ALL new keys added in task 14, provide accurate translations. Spanish (es): Standard Castilian Spanish. French (fr): Standard metropolitan French. Arabic (ar): Modern Standard Arabic — RTL language, ensure proper text direction. Hebrew (he): Modern Hebrew — RTL language, ensure proper text direction. Each file must have the same set of keys as app_en.arb (minus @key metadata which only goes in the template). Use proper grammar, technical terminology, and natural phrasing for each language. For calendar/UI terms, use standard terminology that developers and users would expect. | Restrictions: Must have ALL keys from app_en.arb. Must be valid JSON. Translations must be accurate and natural (not word-for-word machine translation). RTL languages must use proper RTL text. | _Leverage: `example/lib_backup/l10n/app_*.arb`, `example/lib/l10n/app_en.arb` | _Requirements: REQ-8 | Success: All 4 ARB files valid JSON. All have the same keys as app_en.arb. `flutter gen-l10n` succeeds. App runs correctly in all 5 languages with proper text display and RTL layout for Arabic/Hebrew. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 16. Create feature disparity document\n  - Create: `.spec-workflow/specs/example-app-reorganization/feature-disparities.md`\n  - Purpose: Produce the comprehensive feature disparity analysis between Day View and Month View\n  - _Leverage: Analysis already performed during requirements phase, MCalDayView and MCalMonthView source code_\n  - _Requirements: REQ-10_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Technical Analyst specializing in API comparison and gap analysis | Task: Create `feature-disparities.md` with comprehensive analysis. Sections: (1) Complete Widget Parameter Comparison — list ALL parameters for MCalDayView (68 params) and MCalMonthView (56 params) in categorized tables. (2) Features Day View Has but Month View Lacks — with severity ratings (High/Medium/Low). Must highlight: missing keyboardShortcuts map, missing onCreateEventRequested/onDeleteEventRequested/onEditEventRequested, missing per-button navigation callbacks. (3) Features Month View Has but Day View Lacks — with severity. Must highlight: missing onEventDoubleTap, missing swipe navigation, missing cellInteractivityCallback equivalent, missing builder-with-default pattern. (4) API Inconsistencies — naming (showWeekNumber vs showWeekNumbers, showDropTargetPreview vs showDropTargetTiles), callback signatures (BuildContext presence), return types (void vs bool for onEventDropped/onEventResized), dateFormat type (DateFormat vs String), builder patterns. (5) Theme Property Comparison — shared vs view-specific. (6) Specific Gaps to Highlight: Day View missing DateLabelPosition equivalent, Day View missing configurable sub-hour time labels (10/15/20/30 min labels with builders), Day View onEventDropped/onEventResized returning void vs Month View returning bool, Day View missing onEventDoubleTap, Day View builders not following builder-with-default pattern, Month View missing keyboard CRUD callbacks, Month View missing keyboardShortcuts map. (7) Recommendations for future alignment work. | Restrictions: Be thorough and accurate. Reference actual parameter names and types from the source code. | _Leverage: `lib/src/widgets/mcal_day_view.dart`, `lib/src/widgets/mcal_month_view.dart`, `lib/src/styles/mcal_day_theme_data.dart`, `lib/src/styles/mcal_month_theme_data.dart` | _Requirements: REQ-10 | Success: Document is comprehensive, accurate, and actionable. All specified gaps are documented with severity ratings. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n\n- [ ] 17. Build verification and final fixes\n  - Files: All files created in tasks 1-16\n  - Run `flutter analyze` in example/ directory\n  - Run `flutter gen-l10n` in example/ directory\n  - Run `flutter build apk --debug` in example/ directory\n  - Fix any compilation errors, analyzer warnings, or missing imports\n  - Verify all tabs load without runtime errors\n  - Purpose: Ensure the reorganized example app compiles, analyzes clean, and runs correctly\n  - _Leverage: All files from tasks 1-16_\n  - _Requirements: All (verification)_\n  - _Prompt: Implement the task for spec example-app-reorganization, first run spec-workflow-guide to get the workflow guide then implement the task: Role: Senior Flutter Developer specializing in build verification and QA | Task: Run comprehensive build verification. (1) cd example && flutter gen-l10n — verify all ARB files generate correctly. (2) cd example && flutter analyze — fix any errors or warnings. (3) cd example && flutter build apk --debug — verify the app builds. (4) Review all imports across the new codebase to ensure nothing imports from lib_backup/. (5) Verify every AppLocalizations key reference has a corresponding ARB entry. (6) Fix any issues found. Document all fixes made. | Restrictions: Do not modify lib_backup/. Do not add new features — only fix issues. | _Leverage: All created files | _Requirements: All | Success: `flutter gen-l10n` succeeds. `flutter analyze` reports 0 errors. `flutter build apk --debug` succeeds. No imports from lib_backup/. Mark task as in-progress in tasks.md before starting, log implementation with log-implementation tool after completion, then mark as complete._\n",
  "fileStats": {
    "size": 38467,
    "lines": 157,
    "lastModified": "2026-02-16T02:56:22.977Z"
  },
  "comments": []
}